# Seminar_8.1
Типы архитектур прикладных приложений (мобильные): MVC, MVP, MVVM.

**Сервис бронирования столиков в ресторанах**


У ресторанов свои особенности:

«Каравелла»:

— 10 столиков: 6 столиков вмещает до 4 человек. 2 столика вмещают до 3 человек. 2 столика вмещает до 2 человек;

— Среднее время ожидания блюда: 30 минут;

— Средний чек: 2000 рублей.

«Молодость»

— 3 столика, каждый из которых вмещает 3 человека;

— Среднее время ожидания блюда: 15 минут;

— Средний чек: 1000 рублей.

«Мясо и Салат»

— 6 столиков: 2 столика вмещает до 8 человек. 4 столика вмещают до 3 человек;

— Среднее время ожидания блюда: 60 минут;

— Средний чек: 1500 рублей.

Необходимо создать небольшую систему бронирования столиков. Предусматриваются следующие шаги:

Пользователь указывает количество человек и желаемое время посещения ресторана.
Время брони - 2 часа. Рестораны работают с 9:00 до 23:00 (Последнюю бронь можно создать на 21:00).
Сдвигать столики - можно.
Система предлагает доступные варианты (рестораны).
Необходимо указывать актуальное количество свободных мест.
Необходимо отсортировать подходящие варианты по возрастанию среднего времени ожидания и среднего чека.
Необходимо скрывать недоступные варианты.
Пользователь указывает имя и номер телефона и завершает процесс бронирования.


Запуск

Автоматизация запуска системы осуществляется средствами Makefile и docker-compose.yml. Перед запуском рекомендуется обратить внимание на переменные, указанные в этих файлах, и изменить их, если потребуется. Также следует обратить внимание на конфигурационный файл configs/local.yml и внести необходимые правки.

Если возникнет необходимость задать соответствующие переменные среды окружения, то они должны добавляться с префиксом * API_*, например, API_BIND_ADDR ( см. docker-compose.yml):

API_BIND_ADDR - адрес, на котором запускается сервис
API_DSN - строка подключения к базе данных PostgreSQL
API_LOG_LEVEL - уровень логгирования
Docker Compose
Как было упомянуто выше, система запускается с помощью Docker. Оба компонента системы (API сервер и БД) разворачиваются в отдельных Docker-контейнерах. Настройки компонентов указываются в docker-compose.yml. При запуске системы автоматически применяется предварительно созданный дамп БД (dumps/dump-202206160937-1.sql) , чтобы при взаимодействии с системой в ней уже были данные.

Чтобы запустить систему, необходимо ввести следующую команду:

# запуск компонентов в отдельных Docker-контейнерах
make compose-up
Эндпойнты

Ниже описаны возможности RESTful API сервера.

Работа с ресторанами
POST /api/v1/restaurants/: создание ресторана
GET /api/v1/restaurants/: получение списка всех ресторанов
GET /api/v1/restaurants/{restaurant_id}: получение ресторана по его ID
PATCH /api/v1/restaurants/{restaurant_id}: обновление ресторана по его ID
DELETE /api/v1/restaurants/{restaurant_id}: удаление ресторана по его ID
Работа со столиками в ресторанах
POST /api/v1/restaurants/{restaurant_id}/tables: создание столика в ресторане
GET /api/v1/restaurants/{restaurant_id}/tables: получение всех столиков ресторана
GET /api/v1/tables/{table_id}: получение столика по его ID
PATCH /api/v1/tables/{table_id}: обновление столика по его ID
DELETE /api/v1/tables/{table_id}: удаление столика по его ID
Работа с бронями
POST /api/v1/restaurants/{restaurant_id}/bookings: создание брони в ресторане
GET /api/v1/restaurants/{restaurant_id}/bookings: получение всех броней, оформленных в ресторане
Структура

**Ниже представлена структура сервиса (по папкам) с кратким описанием**



![Screenshot_7](https://github.com/DEN068/Seminar_8.1/assets/112544350/459b5896-53b9-4221-bcbe-533d34536e7a)

